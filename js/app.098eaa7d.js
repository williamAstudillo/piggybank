(function(e){function t(t){for(var n,o,u=t[0],i=t[1],c=t[2],l=0,m=[];l<u.length;l++)o=u[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);d&&d(t);while(m.length)m.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,u=1;u<a.length;u++){var i=a[u];0!==r[i]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},s=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/piggybank/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var d=i;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1:function(e,t){},"1feb":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contain_register"},[a("h1",[e._v("Register")]),a("form",{staticClass:"form_register",on:{submit:function(t){return t.preventDefault(),e.register(t)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],attrs:{type:"name",placeholder:"  Name"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}}),a("br"),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.last_name,expression:"user.last_name"}],attrs:{type:"last_name",placeholder:"  Last name"},domProps:{value:e.user.last_name},on:{input:function(t){t.target.composing||e.$set(e.user,"last_name",t.target.value)}}}),a("br"),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.idNumber,expression:"user.idNumber"}],attrs:{type:"idNumber",placeholder:"  Id Number"},domProps:{value:e.user.idNumber},on:{input:function(t){t.target.composing||e.$set(e.user,"idNumber",t.target.value)}}}),a("br"),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{type:"email",placeholder:"  Email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),a("br"),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",placeholder:"  Password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),a("br"),a("br"),a("button",[e._v("Register")])])])},r=[],s=a("1da1"),o=(a("96cf"),a("b0c0"),a("56d7")),u=a("a18c"),i={data:function(){return{user:{name:"",email:"",password:"",last_name:""}}},methods:{register:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.user.name&&""!==e.user.name&&""!==e.user.email&&""!==e.user.password){t.next=2;break}return t.abrupt("return",alert("All fields should be filled "));case 2:if(parseInt(e.user.idNumber)){t.next=4;break}return t.abrupt("return",alert("Id number should be a number"));case 4:return console.log(e.user),t.prev=5,t.next=8,o["default"].firebase.auth().createUserWithEmailAndPassword(e.user.email,e.user.password);case 8:o["default"].db.collection("users-bank").add({name:e.user.name,last_name:e.user.last_name,idNumber:parseInt(e.user.idNumber),email:e.user.email,balance:100}),alert("Your register is done"),u["a"].push("/piggybank"),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](5),alert(t.t0);case 16:e.user={name:"",email:"",password:"",last_name:""};case 17:case"end":return t.stop()}}),t,null,[[5,13]])})))()},typing:function(e){this.name=e.target.value},submit:function(){console.log(this.user)}}},c=i,d=a("2877"),l=Object(d["a"])(c,n,r,!1,null,"1c88e11e",null);t["a"]=l.exports},"371a":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contain_contact"},[a("form",{staticClass:"form_contact",on:{submit:function(t){return t.preventDefault(),e.send(t)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{type:"email",placeholder:"  Email from"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),a("br"),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.subject,expression:"user.subject"}],attrs:{type:"subject",placeholder:"  Subject"},domProps:{value:e.user.subject},on:{input:function(t){t.target.composing||e.$set(e.user,"subject",t.target.value)}}}),a("br"),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.message,expression:"user.message"}],attrs:{type:"message",placeholder:"  Message",id:"message"},domProps:{value:e.user.message},on:{input:function(t){t.target.composing||e.$set(e.user,"message",t.target.value)}}}),a("br"),a("br"),a("button",[e._v("Enviar mail ")])])])},r=[],s=a("5530"),o=(a("caad"),a("2532"),a("2f62")),u={data:function(){return{user:{}}},computed:Object(s["a"])({},Object(o["c"])(["confirmationEmail"])),methods:Object(s["a"])(Object(s["a"])({},Object(o["b"])(["sendMail","changeState"])),{},{send:function(){if(!this.user.email.includes("@")||!this.user.email.includes("."))return alert("Write a valid email");if(!this.user.email||!this.user.subject||!this.user.message)return alert("Please complete all fields");this.sendMail(this.user);var e=this.user.message,t=this.user.subject,a={email:"app.piggybank@gmail.com",message:e,subject:t};this.sendMail(a),this.user={},alert("Your email was send")}})},i=u,c=a("2877"),d=Object(c["a"])(i,n,r,!1,null,null,null);t["a"]=d.exports},"42ba":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contain_send"},[a("form",{staticClass:"form_send",on:{submit:function(t){return t.preventDefault(),e.send(t)}}},[a("h1",{attrs:{id:"form_h1"}},[e._v("Send money to another wallet")]),e._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.iduser,expression:"data.iduser"}],attrs:{type:"text",placeholder:"  Id User to send"},domProps:{value:e.data.iduser},on:{input:function(t){t.target.composing||e.$set(e.data,"iduser",t.target.value)}}}),a("br"),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.sendMoney,expression:"data.sendMoney"}],attrs:{type:"text",placeholder:"  Mount of money"},domProps:{value:e.data.sendMoney},on:{input:function(t){t.target.composing||e.$set(e.data,"sendMoney",t.target.value)}}}),a("br"),a("br"),a("button",[e._v("Send")])])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h1",{attrs:{id:"form_h2"}},[e._v("Send money to "),a("br"),e._v("another wallet")])}],s=a("1da1"),o=a("5530"),u=(a("96cf"),a("159b"),a("b0c0"),a("7db0"),a("99af"),a("d81d"),a("56d7")),i=a("2f62"),c={name:"Send",computed:Object(o["a"])({},Object(i["c"])(["confirmationEmail"])),data:function(){return{data:{},dataUser:""}},mounted:function(){var e=[];u["default"].db.collection("users-bank").onSnapshot((function(t){t.docs.forEach((function(t){var a=t.data(),n=a.name,r=a.email,s=a.balance,o=a.idNumber;e.push({id:t.id,name:n,email:r,balance:s,idNumber:o})}))})),this.dataUser=e},methods:{send:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(parseInt(e.data.sendMoney)){t.next=2;break}return t.abrupt("return",alert("Id or mount of money should be a number"));case 2:if(a=e.dataUser.find((function(t){return t.idNumber==e.data.iduser})),a){t.next=5;break}return t.abrupt("return",alert("This user does not have a wallet"));case 5:return t.next=7,u["default"].db.collection("users-bank").doc(a.id).update({balance:parseInt(a.balance)+parseInt(e.data.sendMoney)});case 7:alert("You send $".concat(e.data.sendMoney," to ").concat(a.name," ")),e.dataUser.map((function(t){t.id===a.id&&(t.balance=t.balance+parseInt(e.data.sendMoney))})),e.data.iduser="",e.data.sendMoney="";case 11:case"end":return t.stop()}}),t)})))()}}},d=c,l=a("2877"),m=Object(l["a"])(d,n,r,!1,null,"f152666c",null);t["a"]=m.exports},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Navbar")],1)},s=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("container",{staticClass:"container_navbar"},[a("router-link",{staticClass:"navbar_link",attrs:{to:"/piggybank"}},[a("h1",{staticClass:"title"},[e._v("Piggy bank ")])]),a("container",{staticClass:"nav_buttoms"},[a("router-link",{staticClass:"button_nav",attrs:{to:"/contact"}},[a("button",[e._v("Contact us ")])]),e.$store.state.user?e._e():a("router-link",{staticClass:"button_nav",attrs:{to:"/register"}},[a("button",[e._v("Register")])]),e.$store.state.user?e._e():a("router-link",{staticClass:"button_nav",attrs:{to:"/piggybank"}},[a("button",[e._v("Login")])]),e.$store.state.user?a("router-link",{staticClass:"button_nav",attrs:{to:"/piggybank"}},[a("button",{on:{click:e.logout}},[e._v("Logout")])]):e._e()],1)],1),a("div",[a("router-view")],1)],1)},u=[],i=a("5530"),c=a("a18c"),d=a("2f62"),l={name:"Navbar",components:{},methods:Object(i["a"])(Object(i["a"])({},Object(d["b"])(["getUser"])),{},{logout:function(){$.firebase.auth().signOut().then((function(){return console.log("sign out")})),this.getUser(""),c["a"].push("/piggybank"),localStorage.setItem("user",null)}})},m=l,p=(a("759a"),a("2877")),b=Object(p["a"])(m,o,u,!1,null,null,null),f=b.exports,v={name:"App",components:{Navbar:f}},h=v,g=Object(p["a"])(h,r,s,!1,null,null,null),w=g.exports,_=a("2591"),y=a("1da1"),x=(a("96cf"),a("159b"),a("b0c0"),a("bc3a")),j=a.n(x);n["a"].use(d["a"]);var k=new d["a"].Store({state:{user:"",dataUser:[],confirmationEmail:!1},actions:{getUser:function(e,t){var a=e.commit;a("setUser",t)},getDataUser:function(e){return Object(y["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=[],t.next=4,$.db.collection("users-bank").onSnapshot((function(e){e.docs.forEach((function(e){var t=e.data(),a=t.name,r=t.email,s=t.balance,o=t.idNumber;n.push({id:e.id,name:a,email:r,balance:s,idNumber:o})}))}));case 4:a("setDataUser",n);case 5:case"end":return t.stop()}}),t)})))()},sendMail:function(e,t){var a=e.commit;j.a.post("https://app-piggy-bank.herokuapp.com/",{to:t.email,message:t.message,subject:t.subject}).then((function(e){a("setMail",!0)}))}},mutations:{setUser:function(e,t){e.user=t},setDataUser:function(e,t){e.dataUser=t},setMail:function(e,t){e.confirmationEmail=t}},modules:{}}),O=a("28dd");a("e71f");n["a"].config.productionTip=!1;var M={apiKey:"AIzaSyCn3rJuZGaiPSVMCJZiKkT4yveturHkV_c",authDomain:"henry-app-50edd.firebaseapp.com",projectId:"henry-app-50edd",storageBucket:"henry-app-50edd.appspot.com",messagingSenderId:"643875518821",appId:"1:643875518821:web:82171dc147cc1f2c9bc98c",measurementId:"G-23KB774KZJ"};_["a"].initializeApp(M);var N=_["a"].firestore(),$=t["default"]={firebase:_["a"],db:N};n["a"].use(O["a"]),new n["a"]({router:c["a"],store:k,render:function(e){return e(w)}}).$mount("#app")},"578a":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contain_login"},[a("h1",[e._v("Log in ")]),a("form",{staticClass:"form_login",on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"form_input",attrs:{type:"email",placeholder:"  Email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),a("br"),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"form_input",attrs:{type:"password",placeholder:"  Password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),a("br"),a("br"),a("button",[e._v("Iniciar sesiÃ³n ")]),a("p",{attrs:{id:"form_p1"}},[e._v("Do not have an account ? you can still send money "),a("button",{attrs:{id:"form_send"},on:{click:e.sendTo}},[e._v(" here!")])]),a("p",{attrs:{id:"form_p2"}},[e._v("Do not have an account ? "),a("br"),e._v("you can still send money "),a("button",{attrs:{id:"form_send"},on:{click:e.sendTo}},[e._v(" here!")])])])])},r=[],s=a("1da1"),o=a("5530"),u=(a("96cf"),a("b0c0"),a("7db0"),a("56d7")),i=a("2f62"),c=a("a18c"),d={computed:Object(o["a"])({},Object(i["c"])(["dataUser"])),data:function(){return{user:{}}},created:function(){this.getDataUser()},methods:Object(o["a"])(Object(o["a"])({},Object(i["b"])(["getUser","getDataUser"])),{},{sendTo:function(){c["a"].push("/send")},typing:function(e){this.name=e.target.value},submit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["default"].firebase.auth().signInWithEmailAndPassword(e.user.email,e.user.password).then((function(t){var a=e.dataUser.find((function(e){return e.email===t.user.email}));e.getUser(a),c["a"].push("/home")}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),alert(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()}})},l=d,m=a("2877"),p=Object(m["a"])(l,n,r,!1,null,"6413bfaa",null);t["a"]=p.exports},"57da":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home_container"},[a("container",{staticClass:"info_container"},[e._v(" Hi Welcome back:"),a("strong",[e._v(e._s(e.user.name))]),a("br"),a("br"),e._v(" Your id is:"),a("strong",[e._v(e._s(e.user.idNumber))]),a("br"),a("br"),e._v(" Your balance is:"),a("strong",[e._v("$"+e._s(e.balance))])]),a("form",{on:{submit:function(t){return t.preventDefault(),e.send(t)}}},[e._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.iduser,expression:"data.iduser"}],attrs:{type:"text",placeholder:"  Id User to send"},domProps:{value:e.data.iduser},on:{input:function(t){t.target.composing||e.$set(e.data,"iduser",t.target.value)}}}),a("br"),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.sendMoney,expression:"data.sendMoney"}],attrs:{type:"text",placeholder:"  Mount of money"},domProps:{value:e.data.sendMoney},on:{input:function(t){t.target.composing||e.$set(e.data,"sendMoney",t.target.value)}}}),a("br"),a("br"),a("button",[e._v("Send")])]),a("form",{on:{submit:function(t){return t.preventDefault(),e.withdraw(t)}}},[a("h1",[e._v("Withdraw money")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.withdraw,expression:"data.withdraw"}],attrs:{type:"text",placeholder:"  Mount of money"},domProps:{value:e.data.withdraw},on:{input:function(t){t.target.composing||e.$set(e.data,"withdraw",t.target.value)}}}),a("br"),a("br"),a("button",[e._v("Withdraw ")])])],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h1",[e._v("Deposit funds to your"),a("br"),e._v("or someone's wallet")])}],s=a("1da1"),o=a("5530"),u=(a("96cf"),a("7db0"),a("99af"),a("b0c0"),a("2f62")),i=a("56d7"),c=a("a18c"),d={name:"Home",computed:Object(o["a"])({},Object(u["c"])(["user","dataUser"])),data:function(){return{data:{},balance:0}},created:function(){this.user||c["a"].push("/piggybank"),this.setBalance()},components:{},methods:Object(o["a"])(Object(o["a"])({},Object(u["b"])(["getUser","getDataUser"])),{},{setBalance:function(){this.balance=this.user.balance},withdraw:function(){if(!parseInt(this.data.withdraw))return alert("id or mount of monet should be a number");this.balance>=parseInt(this.data.withdraw)?(i["default"].db.collection("users-bank").doc(this.user.id).update({balance:this.balance-this.data.withdraw}),this.balance=this.balance-this.data.withdraw,alert("You withdrew $".concat(this.data.withdraw)),this.data.withdraw=""):(this.data.withdraw="",alert("You do not have enough money"))},send:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(parseInt(e.data.sendMoney)),parseInt(e.data.sendMoney)){t.next=3;break}return t.abrupt("return",alert("Id or mount of money should be a number"));case 3:if(a=e.dataUser.find((function(t){return t.idNumber==e.data.iduser})),a){t.next=6;break}return t.abrupt("return",alert("This user does not have a wallet"));case 6:if(console.log(e.user.idNumber,e.data.iduser),e.user.idNumber!=e.data.iduser){t.next=15;break}return t.next=10,i["default"].db.collection("users-bank").doc(a.id).update({balance:parseInt(e.balance)+parseInt(e.data.sendMoney)});case 10:return e.balance=e.balance+parseInt(e.data.sendMoney),alert("You deposited in your wallet $".concat(e.data.sendMoney)),e.data.iduser="",e.data.sendMoney="",t.abrupt("return");case 15:if(!(e.balance>=parseInt(e.data.sendMoney))){t.next=27;break}return t.next=18,i["default"].db.collection("users-bank").doc(e.user.id).update({balance:e.balance-e.data.sendMoney});case 18:return t.next=20,i["default"].db.collection("users-bank").doc(a.id).update({balance:parseInt(a.balance)+parseInt(e.data.sendMoney)});case 20:alert("You send $".concat(e.data.sendMoney," to ").concat(a.name," ")),e.balance=e.balance-e.data.sendMoney,e.getDataUser(),e.data.iduser="",e.data.sendMoney="",t.next=28;break;case 27:alert("You do not have enough money");case 28:case"end":return t.stop()}}),t)})))()}})},l=d,m=a("2877"),p=Object(m["a"])(l,n,r,!1,null,"64f80d28",null);t["a"]=p.exports},5815:function(e,t,a){},"759a":function(e,t,a){"use strict";a("5815")},a18c:function(e,t,a){"use strict";(function(e){var n=a("2b0e"),r=a("8c4f"),s=a("578a"),o=a("1feb"),u=a("57da"),i=a("371a"),c=a("42ba");n["a"].use(r["a"]);var d=[{path:"/piggybank",name:"Login",component:s["a"]},{path:"/register",name:"register",component:o["a"]},{path:"/home",name:"home",component:u["a"]},{path:"/contact",name:"contact",component:i["a"]},{path:"/send",name:"send",component:c["a"]}],l=new r["a"]({mode:"history",base:e,routes:d});t["a"]=l}).call(this,"/")}});
//# sourceMappingURL=app.098eaa7d.js.map